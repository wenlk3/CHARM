# CHARM Configuration File
# Model Configuration
model:
  name: CHARM
  backbone: resnet50
  num_classes: 19
  modalities: ['rgb', 'depth']  # Supported modalities
  
  # Architecture parameters
  encoder:
    pretrained: true
    freeze_bn: false
    output_stride: 16
  
  decoder:
    hidden_dim: 256
    num_layers: 3
    dropout: 0.1
  
  harmonization:
    num_heads: 8
    dim_feedforward: 2048
    attention_dropout: 0.1

# Training Configuration
training:
  batch_size: 8
  num_epochs: 100
  num_workers: 4
  
  # Optimizer
  optimizer:
    type: AdamW
    lr: 0.0001
    weight_decay: 0.0001
    betas: [0.9, 0.999]
  
  # Learning rate scheduler
  scheduler:
    type: PolynomialLR
    power: 0.9
    warmup_epochs: 5
  
  # Loss function
  loss:
    type: CrossEntropy
    ignore_index: 255
    class_weights: null
  
  # Gradient clipping
  grad_clip: 1.0
  
  # Mixed precision training
  mixed_precision: true

# Data Configuration
data:
  dataset: cityscapes  # Options: cityscapes, ade20k, custom
  root: ./data/cityscapes
  
  # Data split
  train_split: train
  val_split: val
  test_split: test
  
  # Image preprocessing
  image_size: [512, 512]
  crop_size: [512, 512]
  
  # Data augmentation
  augmentation:
    random_flip: true
    random_scale: [0.5, 2.0]
    color_jitter: true
    gaussian_blur: false
  
  # Normalization
  mean: [0.485, 0.456, 0.406]
  std: [0.229, 0.224, 0.225]

# Evaluation Configuration
evaluation:
  batch_size: 1
  metrics: ['mIoU', 'pixel_acc', 'mean_acc']
  save_predictions: true
  output_dir: ./outputs

# Logging Configuration
logging:
  log_interval: 10
  tensorboard: true
  wandb: false
  wandb_project: CHARM
  save_dir: ./logs
  checkpoint_interval: 5

# System Configuration
system:
  seed: 42
  cudnn_benchmark: true
  num_gpus: 1
  distributed: false
